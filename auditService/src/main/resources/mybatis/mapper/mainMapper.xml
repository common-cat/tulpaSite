<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="wiki.common_cat.auditService.mapper.AuditMapper">
    <select id="getDoc" resultType="wiki.common_cat.auditService.entities.Doc">
        select * from doc where id=#{id}
    </select>
    <select id="getAuditedDoc" resultType="wiki.common_cat.auditService.entities.Doc">
        select * from audited_doc where id=#{id}
    </select>
    <select id="getAuditingDoc" resultType="wiki.common_cat.auditService.entities.Doc">
        select * from auditing_doc where id=#{id}
    </select>
    <delete id="delAuditDoc">
        DELETE FROM auditing_doc WHERE id=#{id}
    </delete>
    <delete id="rejectDoc">
        DELETE FROM auditing_doc WHERE id=#{id}
    </delete>
    <insert id="auditDoc">
        insert into auditing_doc (HTML,id,date) values (#{HTML},#{id},NOW())
    </insert>
    <insert id="acceptDoc">
        insert into audited_doc (HTML,id,date) values (#{HTML},#{id},NOW())
    </insert>
    <select id="isAdmin" resultType="int">
        select id from admins where id=#{id}
    </select>
    <select id="auditList" resultType="int">
        select id form auditing_doc
    </select>
</mapper>